---
layout: post
title: 使用 Virtual Box + Android x86 在电脑上进行安卓应用抓包
---

之前搞个人用的 RSS 服务器发现 [动漫之家] 的网页版 API 已经完全过时

只有手机上才能拿到最新数据

虽然 [动漫之家] 的订阅源直接手机下了个 [抓包精灵] 就抓到包了

但是让我也生起了添加其他手机应用订阅源的想法

但是从安卓 8 开始应用默认为不信任用户安装的根证书了[^1], 没有办法抓 https 的包

我当前手机是安卓 8.1.0 的老手机 https 抓不了

在安卓 5 的老手机上倒是能抓, 但是我换手机的原因就是因为系统太卡了

所以我就开始寻找备用方案

## 官方模拟器

最先想到的是使用官方 Android Studio 里面的模拟器

![安装失败](/images/qemu-system-i386_2019-05-06_21-26-25.png)

但是尝试过后发现国产应用水土不服，并且因为下载服务器是谷歌的，下载全部得走代理所以放弃了。

## 国产安卓模拟器

之后在知乎上看到国产安卓模拟器推荐，尝试了下 BlueStack。

发现这些模拟器的主要用途都是用来玩手游的，不适合用于辅助开发。

## 虚拟机

最终还是采用 Android-x86 的镜像配 VirtualBox

选择使用 Android-x86 安卓 7.1 镜像。

### 安装

新建虚拟机。

配置虚拟机显示模式，不然没法自动进图形系统。

配置虚拟机使用鼠标，不然进了系统操作是触摸板式的。

配置 CPU，不然会卡死。

挂载上光盘。

选择第三项安装。

格式化硬盘分区。

后续所有选项使用默认值。

安装完后移除光盘。

[^1]: <https://stackoverflow.com/a/22040887/8495483>
